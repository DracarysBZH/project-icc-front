<div class="container-fluid">

  <div class="row text-center mt-3">
    <div class="col">
      <h1>{{ title }}</h1>
    </div>
  </div>

  <div class="row">
    <div class="col-8 offset-2 mt-2">
      <ngb-tabset type="pills" justify="center" (tabChange)="getApiLink($event)">

        <ngb-tab title="/hiking" id="/hiking/72314">
          <ng-template ngbTabContent>
            <div class="jumbotron jumbotron-fluid pt-2 pb-1 mt-4">
              <div class="container-fluid description">
                Fonctionnement de la route :
                <hr>
                /hiking/id avec <span class="font-weight-bold">id</span> correspondant à l'id d'un chemin de randonnées.
                <br><br>
                Exemple: <pre>/hiking/72314</pre>
              </div>
            </div>
          </ng-template>
        </ngb-tab>

        <ngb-tab title="/extract" id="/extract">
          <ng-template ngbTabContent>
            <div class="jumbotron jumbotron-fluid pt-2 pb-1 mt-4">
              <div class="container-fluid description">
                Exemple de body :
                <hr>
                <pre>
{{ '{' }}
    "description": "Stationnement à Pré Richard, à proximité de l'aire d'arrivée du télésiège. A partir de Bernex, on atteint Pré Richard en passant par le hameau de Trossy et en dépassant Malpasset et la Fétuère (route généralement fermée en hiver). (D/A) Partir au Sud et, à proximité de cabanes de départ de téléskis, prendre la piste sur la gauche (Est) qui s'élève d'abord en pente douce. Après le virage en épingle à cheveux sur la droite et avant les chalets, quitter la piste et prendre à gauche un sentier qui aboutit à un carrefour. (1) Suivre à gauche une piste qui passe sous la ligne du télésiège du petit Combet puis vire à droite et devient raide. Elle fait un net virage à gauche et la pente s'adoucit jusqu'au départ du télésiège de Pelluaz (La Combe). (2) Dépasser les installations du télésiège et poursuivre Est-Nord-Est. La piste contourne une mare par la gauche puis devient raide et s'oriente au Sud. Passer sous la ligne du télésiège de Pelluaz et aboutir à un collet. (3) Du collet, prendre un sentier sur la droite (Ouest). Passer à la table d'orientation tout de suite sur la droite puis rejoindre la crête. Ignorer un sentier qui descend sur la droite, poursuivre le cheminement très agréable en crête vers l'Ouest et atteindre la Tête des Fieux. (4) Prendre sur la droite un sentier raide qui descend en forêt (panneau). Aboutir au sommet d'une combe, à proximité de l'arrivée du téléski de l'Arête. (5) Prendre sur la gauche le sentier qui descend vers le Col des Boeufs (panneau) et laisser l'arrivée du téléski à main droite. (6) Du Col, s'engager dans une pente herbeuse en direction du Mont Baron (panneau). Atteindre le sommet après plusieurs lacets. (7) Entamer la descente par le même chemin et, après quelques dizaines de mètres, s'engager dans un sentier qui part sur la droite et conduit à un petit couloir. Descendre ce dernier sans aucune difficulté et poursuivre le sentier vers la droite (Ouest). Déboucher dans des alpages. (8) A la croisée de sentiers, prendre sur la droite à angle aigu un sentier en direction de l'aplomb du Mont Baron (panneau). Le sentier pénètre en forêt. Un balisage Jaune se perd et le sentier est très peu marqué. Suivre un cheminement plein Est en forêt jusqu'à déboucher à nouveau en prairie, à l'arrivée du téléski du Baron. (9) Descendant en demeurant sous la ligne de téléski ou légèrement sur sa droite. S'écarter ensuite du téléski par la droite et rejoindre en sous-bois une piste plus large. Suivre celle-ci à l'Est jusqu'au départ de téléskis. Retrouver à gauche le parking de départ (D/A).Points de passage : D/A : km 0 - alt. 1339m - Pré Richard 1 : km 0.77 - alt. 1432m - Bifurcation 2 : km 1.58 - alt. 1543m - La Combe 3 : km 2.57 - alt. 1745m - Collet entre Pointe de Pelluaz et Tête des Fieux 4 : km 3.29 - alt. 1737m - Tête des Fieux 5 : km 4.14 - alt. 1513m - Sommet d'une combe - Téléski de l'Arête 6 : km 5.08 - alt. 1434m - Col des Boeufs 7 : km 5.62 - alt. 1529m - Mont Baron 8 : km 6.3 - alt. 1434m - Croisée de chemins dans les pâturages 9 : km 6.94 - alt. 1430m - Arrivée du téléski du Baron D/A : km 8.02 - alt. 1339m - Pré Richard",
    "name": "Tête des Fieux et Mont Baron"
{{ '}' }}</pre>
              </div>
            </div>
          </ng-template>
        </ngb-tab>

        <ngb-tab title="/geolocalize" id="/geolocalize">
          <ng-template ngbTabContent>
            <div class="jumbotron jumbotron-fluid pt-2 pb-2 mt-4">
              <div class="container-fluid description">
                  Exemple de body :
                  <hr>
                  <pre>{{ '{' }}
  "entities": [
    "http://fr.dbpedia.org/resource/Bernex_(Genève)",
    "http://fr.dbpedia.org/resource/Barrage_de_Malpasset"
  ]
{{ '}' }}</pre>
              </div>
            </div>
          </ng-template>
        </ngb-tab>

        <ngb-tab title="/utm" id="/utm">
          <ng-template ngbTabContent>
            <div class="jumbotron jumbotron-fluid pt-2 pb-2 mt-4">
              <div class="container-fluid description">
                Exemple de body :
                <hr>
                <pre>{{ '{' }}
  "coords": [
    {{ '{' }}
        "latitude": "46.166688",
        "longitude": "6.066644",
        "uri": "http://fr.dbpedia.org/resource/Bernex_(Genève)"
    {{ '}' }},
    {{ '{' }}
        "latitude": "43.51224",
        "longitude": "6.757",
        "uri": "http://fr.dbpedia.org/resource/Barrage_de_Malpasset"
    {{ '}' }}
  ]
{{ '}' }}</pre>
              </div>
            </div>
          </ng-template>
        </ngb-tab>

        <ngb-tab title="/images" id="/images">
          <ng-template ngbTabContent>
            <div class="jumbotron jumbotron-fluid pt-2 pb-2 mt-4">
              <div class="container-fluid description">
                Exemple de body :
                <hr>
                <pre>{{ '{' }}
  "boundingbox": {{ '{' }}
    "ne": {{ '{' }}
      "lng": 6.757,
      "lat": 46.166688
    {{ '}' }},
    "sw": {{ '{' }}
      "lng": 6.066644,
      "lat": 43.51224
    {{ '}' }}
  {{ '}' }},
  "date": {{ '{' }}
    "start": "2019-03-11",
    "end": "2019-04-01"
  {{ '}' }}
{{ '}' }}</pre>
              </div>
            </div>
          </ng-template>
        </ngb-tab>

        <ngb-tab title="/tiles" id="/tiles">
          <ng-template ngbTabContent>
            <ngb-tabset type="pills" justify="center" (tabChange)="getApiLink($event)" class="col">
              <ngb-tab title="/tiles" id="/tiles">
                <ng-template ngbTabContent>
                  <div class="jumbotron jumbotron-fluid pt-2 pb-2 mt-4">
                    <div class="container-fluid description">
                      Exemple de body :
                      <hr>
                      <pre>{{ '{' }}
  "name": "03d771d9-eb6f-5439-8b31-18cd9a547718"
{{ '}' }}</pre>
                    </div>
                  </div>
                </ng-template>
              </ngb-tab>

              <ngb-tab title="/tiles/status/" id="/tiles/status/">
                <ng-template ngbTabContent>
                  <div class="jumbotron jumbotron-fluid pt-2 pb-2 mt-4">
                    <div class="container-fluid description">
                      Fonctionnement de la route :
                      <hr>
                      /tiles/status/name avec <span class="font-weight-bold">name</span> correspondant au name d'une image.
                      <br><br>
                      Exemple : <pre>/tiles/status/03d771d9-eb6f-5439-8b31-18cd9a547718</pre>
                    </div>
                  </div>
                </ng-template>
              </ngb-tab>
            </ngb-tabset>

          </ng-template>
        </ngb-tab>

        <ngb-tab title="/save" id="/save">
          <ng-template ngbTabContent>
            <div class="jumbotron jumbotron-fluid pt-2 pb-2 mt-4">
              <div class="container-fluid description">
                Exemple de body :
                <hr>
                <pre>{{ '{' }}
    "imgName": "03d771d9-eb6f-5439-8b31-18cd9a547718"
{{ '}' }}</pre>
              </div>
            </div>
          </ng-template>
        </ngb-tab>

        <ngb-tab title="/metadata" id="/metadata">
          <ng-template ngbTabContent>
            <div class="jumbotron jumbotron-fluid pt-2 pb-2 mt-4">
              <div class="container-fluid description">
                Exemple de body :
                <hr>
                <pre>{{ '{' }}
    "name": "03d771d9-eb6f-5439-8b31-18cd9a547718"
{{ '}' }}</pre>
              </div>
            </div>
          </ng-template>
        </ngb-tab>

        <ngb-tab title="/elasticsearch" id="/elasticsearch">
          <ng-template ngbTabContent>
            <div class="jumbotron jumbotron-fluid pt-2 pb-2 mt-4">
              <div class="container-fluid description">
                Exemple de body :
                <hr>
                <pre>{{ '{' }}
  "boundingbox": {{ '{' }}
    "ne": {{ '{' }}
      "lng": 6.757,
      "lat": 46.166688
    {{ '}' }},
    "sw": {{ '{' }}
      "lng": 6.066644,
      "lat": 43.51224
    {{ '}' }}
  {{ '}' }},
{{ '}' }}</pre>
              </div>
            </div>
          </ng-template>
        </ngb-tab>

      </ngb-tabset>
    </div>
  </div>

  <div class="row">
    <div class="col-8 offset-2 mt-1 mb-3">
      <form (ngSubmit)="onSubmit()" >
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text" id="backEndUrl">{{ backEndUrl }}</span>
          </div>
          <input type="text" class="form-control" aria-describedby="backEndUrl" name="apiLink" [(ngModel)]="apiLink">
          <div class="input-group-append" id="button-addon4">
            <button class="btn btn-outline-primary" type="submit">Submit</button>
          </div>
        </div>
        <!--<div class="input-group" *ngIf="body">
          <div class="input-group-prepend">
            <span class="input-group-text">Body</span>
          </div>
          <textarea class="form-control" aria-label="With textarea" name="bodyRequest" [(ngModel)]="bodyRequest"></textarea>
        </div>-->
        <div class="form-group" *ngIf="body">
          <span class="input-group-text">Body</span>
          <ngx-monaco-editor class="my-code-editor" [options]="editorOptions" [(ngModel)]="bodyRequest" name="bodyRequest" (ngModelChange)="bodyRequestChange()"></ngx-monaco-editor>
        </div>
      </form>
    </div>
  </div>

  <div class="row" *ngIf="jsonResponse != null">
    <div class="col text-center">
      <button type="button" class="btn btn-outline-secondary" (click)="copyToClipBoard()">Copy to clipboard the response</button>
      <button type="button" class="btn btn-outline-secondary ml-1" (click)="isCollapsed = !isCollapsed" [attr.aria-expanded]="!isCollapsed" aria-controls="collapseExample">View raw</button>
    </div>
  </div>

  <div class="row" *ngIf="jsonResponse != null">
    <div id="collapseExample" [ngbCollapse]="isCollapsed" class="col-8 offset-2 mt-2">
      <div class="card">
        <div class="card-body">
          <pre>{{ jsonResponse | json }}</pre>
        </div>
      </div>
    </div>
  </div>

  <div class="row" *ngIf="jsonResponse != null">
    <div class="col-8 offset-2 shadow p-3 mb-5 mt-3 bg-white rounded">
      <ngx-json-viewer [json]="jsonResponse"></ngx-json-viewer>
    </div>
  </div>

</div>
